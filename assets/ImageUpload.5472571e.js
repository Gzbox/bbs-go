import{y as E,z as x,w as V,x as I}from"./index.b3cfc533.js";/* empty css               *//* empty css               */import{e as b,c as C,B as c,aD as r,aG as N,F as a,C as l,aH as i,u as o,E as U,aE as w,D as B,af as P,bM as S,a5 as z,bN as $}from"./arco.2c5416d7.js";const D={key:0,class:"arco-upload-list-picture custom-upload-avatar"},H=["src"],L={class:"arco-upload-list-picture-mask"},R={key:1,class:"arco-upload-picture-card"},T={class:"arco-upload-picture-card-text"},F=a("div",{style:{"margin-top":"10px","font-weight":"600"}},"Upload",-1),G={__name:"ImageUpload",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:u}){const p=u,e=b(),d=C(()=>`http://localhost:8082/api/upload?userToken=${E()}`),m=(s,t)=>{e.value={...t}},_=s=>{e.value=s},f=()=>{x("\u4E0A\u4F20\u5931\u8D25")},g=s=>{const t=s.response;t.success?(p("update:modelValue",t.data.url),V("\u4E0A\u4F20\u6210\u529F")):I(t)};return(s,t)=>{const h=P,y=S,k=z,v=$;return c(),r(v,{action:o(d),"file-list":o(e)?[o(e)]:[],"show-file-list":!1,accept:"images/*",name:"image","with-credentials":"",onChange:m,onProgress:_,onSuccess:g,onError:f},{"upload-button":N(()=>[a("div",{class:B(`arco-upload-list-item${o(e)&&o(e).status==="error"?" arco-upload-list-item-error":""}`)},[n.modelValue?(c(),l("div",D,[a("img",{src:n.modelValue},null,8,H),a("div",L,[i(h)]),o(e)&&o(e).status==="uploading"&&o(e).percent<100?(c(),r(y,{key:0,percent:o(e).percent,type:"circle",size:"mini",style:U({position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"})},null,8,["percent","style"])):w("",!0)])):(c(),l("div",R,[a("div",T,[i(k),F])]))],2)]),_:1},8,["action","file-list"])}}},q=G;export{q as I};
